(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{347:function(s,t,a){"use strict";a.r(t);var n=a(8),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"工程化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工程化"}},[s._v("#")]),s._v(" 工程化")]),s._v(" "),t("h2",{attrs:{id:"为什么需要模块化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要模块化"}},[s._v("#")]),s._v(" 为什么需要模块化")]),s._v(" "),t("p",[s._v("当前端工程到达一定规模后，就会出现下面的问题：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("全局变量污染")])]),s._v(" "),t("li",[t("p",[s._v("依赖混乱")])])]),s._v(" "),t("p",[s._v("上面的问题，共同导致了"),t("strong",[s._v("代码文件难以细分")])]),s._v(" "),t("p",[s._v("模块化就是为了解决上面两个问题出现的")]),s._v(" "),t("p",[s._v("模块化出现后，我们就可以把臃肿的代码细分到各个小文件中，便于后期维护管理")]),s._v(" "),t("h2",{attrs:{id:"前端模块化标准"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端模块化标准"}},[s._v("#")]),s._v(" 前端模块化标准")]),s._v(" "),t("p",[s._v("前端主要有两大模块化标准：")]),s._v(" "),t("ul",[t("li",[s._v("CommonJS，简称CMJ，这是一个"),t("strong",[s._v("社区")]),s._v("规范，出现时间较早，目前仅node环境支持")]),s._v(" "),t("li",[s._v("ES Module，简称ESM，这是随着ES6发布的"),t("strong",[s._v("官方")]),s._v("模块化标准，目前浏览器和新版本node环境均支持")])]),s._v(" "),t("blockquote",[t("p",[s._v("node环境")]),s._v(" "),t("p",[s._v("下载地址：https://nodejs.org/zh-cn/")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/20210423130904.png",alt:"image-20210423130904669"}})])]),s._v(" "),t("h2",{attrs:{id:"commonjs如何实现模块化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commonjs如何实现模块化"}},[s._v("#")]),s._v(" CommonJS如何实现模块化")]),s._v(" "),t("p",[s._v("node天生支持CommonJS模块化标准")]),s._v(" "),t("p",[s._v("node规定：")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("node中的每个js文件都是一个CMJ模块，通过node命令运行的模块，叫做入口模块")])]),s._v(" "),t("li",[t("p",[s._v("模块中的所有全局定义的变量、函数，都不会污染到其他模块")])]),s._v(" "),t("li",[t("p",[s._v("模块可以暴露（导出）一些内容给其他模块使用，需要暴露什么内容，就在模块中给"),t("code",[s._v("module.exports")]),s._v("赋值")])]),s._v(" "),t("li",[t("p",[s._v("一个模块可以导入其他模块，使用函数"),t("code",[s._v('require("要导入的模块路径")')]),s._v("即可完成，该函数返回目标模块的导出结果")]),s._v(" "),t("ol",[t("li",[s._v("导入模块时，可以省略"),t("code",[s._v(".js")])]),s._v(" "),t("li",[s._v("导入模块时，必须以"),t("code",[s._v("./")]),s._v("或"),t("code",[s._v("../")]),s._v("开头")])])]),s._v(" "),t("li",[t("p",[s._v("一个模块在被导入时会运行一次，然后它的导出结果会被node缓存起来，后续对该模块导入时，不会重新运行，直接使用缓存结果")])])]),s._v(" "),t("h2",{attrs:{id:"commonjs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commonjs"}},[s._v("#")]),s._v(" CommonJS")]),s._v(" "),t("blockquote",[t("p",[s._v("标准类型：社区规范")]),s._v(" "),t("p",[s._v("支持环境：node")]),s._v(" "),t("p",[s._v("依赖类型：动态依赖")])]),s._v(" "),t("h3",{attrs:{id:"如何导出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何导出"}},[s._v("#")]),s._v(" 如何导出")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 导出的值\n")])])]),t("h3",{attrs:{id:"如何导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何导入"}},[s._v("#")]),s._v(" 如何导入")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"模块路径"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 函数返回模块导出的值")]),s._v("\n")])])]),t("h2",{attrs:{id:"es-module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#es-module"}},[s._v("#")]),s._v(" ES Module")]),s._v(" "),t("blockquote",[t("p",[s._v("标准类型：官方标准")]),s._v(" "),t("p",[s._v("支持环境：node，浏览器")]),s._v(" "),t("p",[s._v("依赖类型：静态依赖，动态依赖")])]),s._v(" "),t("h3",{attrs:{id:"如何导出-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何导出-2"}},[s._v("#")]),s._v(" 如何导出")]),s._v(" "),t("p",[t("strong",[s._v("ES Module")]),s._v("的导出")]),s._v(" "),t("p",[s._v("ES Module分为两种导出方式：")]),s._v(" "),t("ul",[t("li",[s._v("具名导出（普通导出），可以导出多个")]),s._v(" "),t("li",[s._v("默认导出，只能导出一个")])]),s._v(" "),t("p",[s._v("一个模块可以同时存在两种导出方式，最终会合并为一个「对象」导出")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 具名，常用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("b")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 具名，常用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("c")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 具名，常用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" d "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 具名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" k "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" k "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" temp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 具名")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// export default 3 // 默认，常用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// export default function() {} // 默认，常用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// const e = 4;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// export { e as default } // 默认")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" f "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" g "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" h "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" g"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" h "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 基本 + 默认")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 以上代码将导出下面的对象")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n{\n\ta: 1,\n\tb: fn,\n\tc: fn,\n\td: 2,\n\ttemp: 10,\n\tf: 4,\n\tg: 5,\n\tdefault: 6\n}\n*/")]),s._v("\n")])])]),t("p",[t("strong",[s._v("注意：导出代码必须为顶级代码，即不可放到代码块中")])]),s._v(" "),t("h3",{attrs:{id:"如何导入-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何导入-2"}},[s._v("#")]),s._v(" 如何导入")]),s._v(" "),t("p",[s._v("针对具名导出和默认导出，有不同的导入语法")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 仅运行一次该模块，不导入任何内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"模块路径"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常用，导入属性 a、b，放到变量a、b中。a->a, b->b")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"模块路径"')]),s._v("   \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常用，导入属性 default，放入变量c中。default->c")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" c "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"模块路径"')]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常用，default->c，a->a, b->b")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"模块路径"')]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常用，将模块对象放入到变量obj中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" obj "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"模块路径"')]),s._v(" \n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 导入属性a、b，放到变量temp1、temp2 中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" temp1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" temp2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"模块路径"')]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 导入属性default，放入变量a中，default是关键字，不能作为变量名，必须定义别名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"模块路径"')]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//导入属性default、b，放入变量a、b中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"模块路径"')]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 以上均为静态导入")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"模块路径"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 动态导入，返回一个Promise，完成时的数据为模块对象")]),s._v("\n")])])]),t("p",[t("strong",[s._v("注意：静态导入的代码必须为在代码顶端，也不可放入代码块中")])]),s._v(" "),t("p",[t("strong",[s._v("另外，静态导入的代码绑定的符号是常量，不可更改")])]),s._v(" "),t("h2",{attrs:{id:"什么是less"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是less"}},[s._v("#")]),s._v(" 什么是Less？")]),s._v(" "),t("p",[t("strong",[s._v("Less")]),s._v("是一种更加简洁的样式代码，它非常像CSS，但又不太一样，它让编写样式变得更容易")]),s._v(" "),t("p",[s._v("下面是css代码和Less代码的对比，它们都表达了一样的含义")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/20210507125034.png",alt:"image-20210507125034131"}})]),s._v(" "),t("p",[t("strong",[s._v("Less代码虽好，但它无法被浏览器识别")]),s._v("，因此需要一个工具将其转换为血统纯正的css代码")]),s._v(" "),t("p",[s._v("由于"),t("strong",[s._v("node环境具有读写文件的能力")]),s._v("，于是在node环境中可以轻松的完成文件的转换")]),s._v(" "),t("p",[t("code",[s._v("npm")]),s._v("上有一个包叫做"),t("code",[s._v("less")]),s._v("，它运行在node环境中，通过它可以完成对Less代码的转换")]),s._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://mdrs.yuanjin.tech/img/20210507105107.png",alt:"image-20210507105107556"}}),s._v(" "),t("p",[t("strong",[s._v("可以看出，node环境在前端工程化中，充当了一个辅助的角色，它并不直接运行前端代码，而是让我们编写前端代码更加舒适便利，在后续的课程中，你还会不断的体会到这一点")])]),s._v(" "),t("p",[t("strong",[s._v("转换代码，称之为编译(compile)，转换代码的工具，称之为编译器(compiler)")])]),s._v(" "),t("h3",{attrs:{id:"体验less"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#体验less"}},[s._v("#")]),s._v(" 体验Less")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("新建"),t("code",[s._v("index.less")]),s._v("文件，编写下面的"),t("code",[s._v("less")]),s._v("代码")]),s._v(" "),t("div",{staticClass:"language-less extra-class"},[t("pre",{pre:!0,attrs:{class:"language-less"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@green"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")])]),s._v(" #008c8c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".list")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" flex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-wrap")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" wrap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@green")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("li")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("margin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1em"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("&:hover")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("background")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@green")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("color")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #fff"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[s._v("使用"),t("code",[s._v("npm")]),s._v("下载"),t("code",[s._v("less")])]),s._v(" "),t("p",[t("code",[s._v("less")]),s._v("包提供了一个"),t("code",[s._v("cli")]),s._v("工具"),t("code",[s._v("lessc")]),s._v("，你可以有两种方案使用它")]),s._v(" "),t("p",[t("strong",[s._v("方案一：全局安装less")])]),s._v(" "),t("p",[s._v("这种方案可以让你在任何终端目录使用"),t("code",[s._v("lessc")]),s._v("命令，但不利于版本控制")]),s._v(" "),t("p",[t("strong",[s._v("方案二：本地安装less")])]),s._v(" "),t("p",[s._v("这种方案会把"),t("code",[s._v("less")]),s._v("安装到工程目录的"),t("code",[s._v("node_modules")]),s._v("中，你无法全局使用"),t("code",[s._v("lessc")]),s._v("命令，但可以在当前工程目录中使用"),t("code",[s._v("npx lessc")]),s._v("运行该命令")]),s._v(" "),t("blockquote",[t("p",[s._v("npx是npm提供的一个小工具，它可以运行当前项目中安装到node_modules的cli命令")]),s._v(" "),t("p",[s._v("如果配置"),t("code",[s._v("package.json")]),s._v("脚本，无须使用"),t("code",[s._v("npx")])]),s._v(" "),t("p",[s._v("如果可以，应该尽量使用本地安装，而非全局安装")])]),s._v(" "),t("p",[s._v("如果可以，应该尽量使用本地安装，而非全局安装")])]),s._v(" "),t("li",[t("p",[s._v("使用"),t("code",[s._v("lessc")]),s._v("命令，对编写的"),t("code",[s._v("less")]),s._v("文件进行编译")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 index.less 编译成为 index.css")]),s._v("\nlessc index.less index.css\n")])])])]),s._v(" "),t("li",[t("p",[s._v("新建一个页面，引用编译结果"),t("code",[s._v("index.css")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("目前，编写less代码会遇到一点小麻烦，就是每次编写后，都需要运行命令进行编译")]),s._v(" "),t("p",[s._v("这个麻烦只是暂时的，将来很快就可以解决")])]),s._v(" "),t("h3",{attrs:{id:"less的核心语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#less的核心语法"}},[s._v("#")]),s._v(" Less的核心语法")]),s._v(" "),t("blockquote",[t("p",[s._v("Less官网：https://lesscss.org/")]),s._v(" "),t("p",[s._v("Less民间中文网：https://less.bootcss.com/")])]),s._v(" "),t("p",[s._v("Less提供了非常多的功能，帮助我们更加轻松的编写css代码")]),s._v(" "),t("p",[s._v("其中，我们最常用的功能有下面3个：")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://less.bootcss.com/#%E5%8F%98%E9%87%8F%EF%BC%88variables%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[s._v("变量"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://less.bootcss.com/#%E5%B5%8C%E5%A5%97%EF%BC%88nesting%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[s._v("嵌套"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://less.bootcss.com/#%E6%B7%B7%E5%90%88%EF%BC%88mixins%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[s._v("混合"),t("OutboundLink")],1)])]),s._v(" "),t("p",[s._v("另外，你需要关注Less的特殊"),t("a",{attrs:{href:"https://less.bootcss.com/#%E6%B3%A8%E9%87%8A%EF%BC%88comments%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[s._v("注释"),t("OutboundLink")],1)]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("工程化，为复杂应用而生")])]),s._v(" "),t("p",[s._v("本文为保持简单，牺牲了某些语言的准确性")])]),s._v(" "),t("h2",{attrs:{id:"工程化工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工程化工具"}},[s._v("#")]),s._v(" 工程化工具")]),s._v(" "),t("p",[t("strong",[s._v("webpack是用来搭建前端工程的")])]),s._v(" "),t("p",[s._v("它运行在node环境中，它所做的事情，简单来说，就是"),t("strong",[s._v("打包")])]),s._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://mdrs.yuanjin.tech/img/20210508172954.png",alt:"image-20210508172953979"}}),s._v(" "),t("p",[s._v("具体来说，就是以某个模块作为入口，根据入口分析出所有模块的依赖关系，然后对各种模块进行合并、压缩，形成最终的打包结果")]),s._v(" "),t("p",[t("strong",[s._v("在webpack的世界中，一切皆是模块")])]),s._v(" "),t("h3",{attrs:{id:"体验"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#体验"}},[s._v("#")]),s._v(" 体验")]),s._v(" "),t("blockquote",[t("p",[s._v("老师提供的工程，以"),t("code",[s._v("src/main.js")]),s._v("作为入口文件")]),s._v(" "),t("p",[s._v("按照习惯，所有的模块均放置在"),t("code",[s._v("src")]),s._v("目录中")])]),s._v(" "),t("ol",[t("li",[t("p",[s._v("安装依赖")])]),s._v(" "),t("li",[t("p",[s._v("编写多个模块")]),s._v(" "),t("p",[s._v("随意编写一些模块，可以是js、图片、音视频，以入口模块为起点，形成依赖关系")])]),s._v(" "),t("li",[t("p",[s._v("运行"),t("code",[s._v("npm run build")]),s._v("命令，进行打包")])]),s._v(" "),t("li",[t("p",[s._v("查看打包结果")]),s._v(" "),t("p",[s._v("打包结果放置在dist目录中")])])]),s._v(" "),t("p",[s._v("通过上面的体验，可以发现，webpack给我们带来了至少以下好处：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("可以大胆的使用任意模块化标准")]),s._v(" "),t("p",[s._v("无须担心兼容性问题，因为webpack完成打包后，已经没有了任何模块化语句")])]),s._v(" "),t("li",[t("p",[s._v("可以将一些非JS代码也视为模块")]),s._v(" "),t("p",[s._v("这样可以对css、图片等资源进行更加细粒度的划分")])]),s._v(" "),t("li",[t("p",[s._v("在前端开发中，也可以使用npm")]),s._v(" "),t("p",[s._v("webpack不会运行你的源代码，无论是你自己写的模块，还是通过npm安装的模块，webpack一视同仁，统统视为依赖，最终合并到打包结果中")])]),s._v(" "),t("li",[t("p",[s._v("非常适合开发单页应用")]),s._v(" "),t("p",[s._v("单页应用是前端用户体验最好的web应用")]),s._v(" "),t("p",[s._v("所谓单页应用，是指只有一个html页面，页面中没有任何内容，所有的内容均靠js生成")]),s._v(" "),t("p",[s._v("要优雅的实现单页应用，最好依托于前端框架，比如vue、react")])])]),s._v(" "),t("p",[s._v("webpack给我们开发带来的变化远不止于此，接下来一一体验")]),s._v(" "),t("h3",{attrs:{id:"页面模板"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#页面模板"}},[s._v("#")]),s._v(" 页面模板")]),s._v(" "),t("p",[s._v("对于单页应用而言，只有一个空白的页面，所有内容都靠JS代码创建")]),s._v(" "),t("p",[s._v("webpack会自动生成一个页面，并且在页面中会自动加入对js和css的引用")]),s._v(" "),t("p",[s._v("它生成页面时，参考的是"),t("code",[s._v("public/index.html")]),s._v("，其称之为页面模板")]),s._v(" "),t("h3",{attrs:{id:"public目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#public目录"}},[s._v("#")]),s._v(" public目录")]),s._v(" "),t("p",[s._v("webpack会非常暴力的将public目录中的所有文件（除页面模板外），复制到打包结果中")]),s._v(" "),t("h3",{attrs:{id:"开发服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发服务器"}},[s._v("#")]),s._v(" 开发服务器")]),s._v(" "),t("p",[s._v("如果每次修改完代码，都要经过"),t("code",[s._v("打包->运行")]),s._v("，未免太过麻烦")]),s._v(" "),t("p",[s._v("在开发阶段，我们可以运行"),t("code",[s._v("npm run serve")]),s._v("命令获得更好的打包体验")]),s._v(" "),t("p",[s._v("该命令会让"),t("code",[s._v("webpack")]),s._v("启动一个"),t("strong",[s._v("开发服务器")]),s._v("。")]),s._v(" "),t("p",[s._v("在这个阶段，webpack并不会形成打包结果文件，而是把打包的内容放到内存中，当我们请求服务器时，服务器从内存中给予我们打包结果")]),s._v(" "),t("p",[s._v("与此同时，当源码发生变动时，webpack会自动重新打包，同时刷新页面以访问到最新的打包结果")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/20210508194443.png",alt:"image-20210508194442940"}})]),s._v(" "),t("h3",{attrs:{id:"文件缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件缓存"}},[s._v("#")]),s._v(" 文件缓存")]),s._v(" "),t("p",[s._v("可以看到，除了页面外，其他的资源在打包完成后，文件名多了一些奇奇怪怪的字符")]),s._v(" "),t("p",[s._v("例如："),t("code",[s._v("js/app-9ea93.js")])]),s._v(" "),t("p",[s._v("其中，"),t("code",[s._v("9ea93")]),s._v("这样的字符称之为"),t("code",[s._v("hash")]),s._v("，它会随着模块内容的变化而变化")]),s._v(" "),t("p",[t("strong",[s._v("源码内容不变，hash不变；源码内容变化，hash变化")])]),s._v(" "),t("p",[s._v("之所以这样做，是因为生产环境中，浏览器会对除页面外的静态资源进行缓存")]),s._v(" "),t("p",[s._v("如果不设置hash值，一旦代码更新，浏览器还会使用之前缓存的结果，无法使用最新的代码")]),s._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://mdrs.yuanjin.tech/img/20210508183135.png",alt:"image-20210508183135487"}}),s._v(" "),t("p",[s._v("有了hash值之后，即可解决此问题")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/20210508183454.png",alt:"image-20210508183454385"}})]),s._v(" "),t("p",[s._v("webpack会在打包时自动处理hash值，并不会对我们写代码造成任何影响，但作为一个前端开发者，有必要了解这一点")]),s._v(" "),t("h3",{attrs:{id:"资源路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#资源路径"}},[s._v("#")]),s._v(" 资源路径")]),s._v(" "),t("p",[t("strong",[s._v("除代码和样式模块外，其他模块被视为资源模块")])]),s._v(" "),t("p",[s._v("值得特别注意的是**，资源模块在源代码中的路径和打包后的路径是不一样的**，这就导致我们在编写代码的时候，根本无法知晓最终的路径")]),s._v(" "),t("p",[s._v("最常见的例子，就是在css中使用背景图片")]),s._v(" "),t("div",{staticClass:"language-css extra-class"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".container")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 背景图使用了源码中的路径 */")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("backgroud")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token url"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string url"}},[s._v("'../assets/1.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("它能正常工作吗？")]),s._v(" "),t("p",[s._v("它能！")]),s._v(" "),t("p",[s._v("因为webpack非常智能的发现了这一点，对于css中的路径，webpack在打包时，会将其自动转换为打包结果的路径，比如，上面的代码在打包完成后，可能被转换为下面的格式")]),s._v(" "),t("div",{staticClass:"language-css extra-class"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".container")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* css中的资源路径会被自动替换，我们无须关心 */")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("background")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token url"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/img/1492ea.png"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("但如果我们要通过js动态的使用路径，webpack是无法识别的")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包前")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" url "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./assets/1.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 该路径无法被转换")]),s._v("\nimg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包后")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" url "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./assets/1.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ❌")]),s._v("\nimg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("正确的做法是，通过模块化的方式导入资源，并获取资源路径")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包前")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" url "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./assets/1.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包后，url得到的将是真实的路径")]),s._v("\nimg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包后")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" url "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/img/1492ea.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ✅")]),s._v("\nimg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"缺省的文件和后缀名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#缺省的文件和后缀名"}},[s._v("#")]),s._v(" 缺省的文件和后缀名")]),s._v(" "),t("p",[s._v("导入模块时，所有js模块均可省略"),t("code",[s._v(".js")]),s._v("，若导入的模块文件名为"),t("code",[s._v("index.js")]),s._v("，可省略文件名")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./home'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 若存在home.js，可省略js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./movie'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 若movie是一个目录，此次导入的是 ./movie/index.js")]),s._v("\n")])])]),t("h3",{attrs:{id:"路径别名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路径别名"}},[s._v("#")]),s._v(" 路径别名")]),s._v(" "),t("p",[s._v("随着体量的增长，不可避免的，会形成层级极深的目录")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("root\n\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("- src\n\t\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("- a\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("- a1\n\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("- a2\n\t\t\t\t\t\t\t "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("- index.js\n\t\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("- b\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("- b1\n\t\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("- index.js\n")])])]),t("p",[s._v("如果需要在"),t("code",[s._v("./src/a/a1/a2/index.js")]),s._v("中导入"),t("code",[s._v("./src/b/b1/index.js")]),s._v("，则可能产生下面特别恶心的代码")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../../../b/b1/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("webpack提供了别名供我们快速定位到"),t("code",[s._v("./src")]),s._v("目录，通常，该别名为"),t("code",[s._v("@")])]),s._v(" "),t("p",[s._v("上面的导入代码可简化为")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@/b/b1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// @表示src目录，同时省略了index.js")]),s._v("\n")])])]),t("h3",{attrs:{id:"js兼容性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#js兼容性"}},[s._v("#")]),s._v(" js兼容性")]),s._v(" "),t("p",[s._v("当webpack读取到js代码时，会自动对其进行兼容性处理")]),s._v(" "),t("p",[s._v("具体的处理方案涉及到两个配置文件：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("babel.config.js")]),s._v("：通过配置该文件，可以设置对哪些js代码进行降级处理")]),s._v(" "),t("li",[t("code",[s._v(".browserslistrc")]),s._v("：通过配置该文件，可以设置在降级时，要兼容哪些浏览器，兼容的范围越光，降级产生的代码就越多，自然，打包后的体积就越大")])]),s._v(" "),t("p",[s._v("你无须知晓具体的配置方式")]),s._v(" "),t("h3",{attrs:{id:"打包压缩"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打包压缩"}},[s._v("#")]),s._v(" 打包压缩")]),s._v(" "),t("p",[s._v("webpack在打包时，会对所有js和css代码进行压缩")]),s._v(" "),t("p",[s._v("对于js，除了压缩之外，还会对其中的各种名称进行混淆")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("webpackChunkmovie_list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("webpackChunkmovie_list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("587")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3587")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("n")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"use strict"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("r")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("n")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5666")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("n")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1539")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("n")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8674")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("n")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9600")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("n")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1249")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("n")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("n")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9755")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("n")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("i")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("r")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("html")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("r")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<li>\\n  <a href=\"'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("concat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'" target="_blank">\\n    <img src="\'')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("concat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cover"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\" title=\"'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("concat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\">\\n  </a>\\n  <a href=\"'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("concat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'" target="_blank" class="\'')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("concat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"qmUYQv1xlJhGMQKz-kfAp"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\">'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("concat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'</a>\\n  <p class=\"'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("concat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_3yV5wC-URYTUP0sPvaE0ZR"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\">'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("concat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"</p>\\n  </li>"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("o"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<ul>"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addClass")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_1fsrc5VinfYHBXCF1s58qS"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("appendTo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#app"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("n")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8138")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" u"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n")])])]),t("p",[s._v("混淆的作用一方面是为了进一步压缩包体积，另一方面是为了让我们的代码更难被其他人理解利用")]),s._v(" "),t("h3",{attrs:{id:"源码地图-source-map"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#源码地图-source-map"}},[s._v("#")]),s._v(" 源码地图 source map")]),s._v(" "),t("p",[s._v("我们运行的是webpack打包后的结果，而打包后的结果是很难阅读的")]),s._v(" "),t("p",[s._v("但这样一来会带来新的问题，如果代码报错，我们就难以知道到底是那一行代码写的有问题")]),s._v(" "),t("p",[s._v("此时源码地图就发挥了作用")]),s._v(" "),t("p",[s._v("可以发现，js代码打包后都会跟上一个同名的、后缀为"),t("code",[s._v(".map")]),s._v("的文件，该文件就保存了原始代码的内容")]),s._v(" "),t("p",[s._v("请放心，这个内容人类是看不懂的，但浏览器可以看懂")]),s._v(" "),t("p",[s._v("当代码报错时，浏览器会定位到源码地图中的对应代码，而不是把真实报错的代码展示给我们")]),s._v(" "),t("p",[s._v("你无须关心这一点，但可以自然的从其中获得巨大的便利")]),s._v(" "),t("h3",{attrs:{id:"css工程化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css工程化"}},[s._v("#")]),s._v(" css工程化")]),s._v(" "),t("p",[s._v("webpack能够识别"),t("strong",[s._v("所有")]),s._v("的样式代码，包括"),t("code",[s._v("css")]),s._v("、"),t("code",[s._v("less")]),s._v("、"),t("code",[s._v("sass")]),s._v("、"),t("code",[s._v("stylus")])]),s._v(" "),t("p",[s._v("在打包时，会将它们转换成纯正的"),t("code",[s._v("css")])]),s._v(" "),t("p",[s._v("除此之外，它还具备以下的神奇能力")]),s._v(" "),t("h3",{attrs:{id:"自动厂商前缀"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动厂商前缀"}},[s._v("#")]),s._v(" 自动厂商前缀")]),s._v(" "),t("p",[s._v("css有很多兼容性问题，解决这些兼容性问题的最常见办法，就是加上厂商前缀。")]),s._v(" "),t("p",[s._v("比如：")]),s._v(" "),t("div",{staticClass:"language-css extra-class"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 兼容性不好的代码 */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".container")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" flex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 兼容性好的代码 */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".container")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" -webkit-box"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" -webkit-flex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" flex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("-webkit-transition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("transition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("webpack会根据"),t("code",[s._v(".browserlistrc")]),s._v("中指定的浏览器范围**，按需、自动**加上厂商前缀")]),s._v(" "),t("p",[s._v("我们开发无须关心")]),s._v(" "),t("h3",{attrs:{id:"css-module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css-module"}},[s._v("#")]),s._v(" css module")]),s._v(" "),t("p",[s._v("css文件多了后，你怎么保证它们里面没有冲突的类样式？")]),s._v(" "),t("p",[s._v("靠层级选择器？就不担心效率？")]),s._v(" "),t("p",[s._v("靠命名规范？就不担心脑袋爆炸？")]),s._v(" "),t("p",[s._v("要靠就靠css module")]),s._v(" "),t("p",[s._v("当样式文件以"),t("code",[s._v("xxx.mdoule.xxx")]),s._v("的方式命名时，webpack会将该文件当成一个开启了"),t("code",[s._v("css module")]),s._v("的文件")]),s._v(" "),t("p",[s._v("比如："),t("code",[s._v("index.module.less")]),s._v("、"),t("code",[s._v("movie.module.css")]),s._v("，都是开启了"),t("code",[s._v("css module")]),s._v("的文件")]),s._v(" "),t("p",[t("strong",[s._v("文件中的所有类名都会被hash化")])]),s._v(" "),t("div",{staticClass:"language-less extra-class"},[t("pre",{pre:!0,attrs:{class:"language-less"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 源码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".container")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".list")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包结果，绝无可能重名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("._2GFVidHvoHtfgtrdifua24")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("._1fsrc5VinfYHBXCF1s58qS")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".urPUKUukdS_UTSuWRI5-5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("现在就一个问题，我们在使用类名时，如何知道它打包结果的类名呢？")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./index.module.less'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndom"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'container'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ❌ 最终的类名可不是这个")]),s._v("\n")])])]),t("p",[s._v("正确的方式如下：")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// styles 是一个对象，里面映射了源码类名和打包类名的关系")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" styles "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./index.module.less'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndom"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("styles"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("container"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ✅ 属性container中记录的就是container转换后的类名")]),s._v("\n")])])]),t("h3",{attrs:{id:"真正的webpack没有那么神奇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#真正的webpack没有那么神奇"}},[s._v("#")]),s._v(" 真正的webpack没有那么神奇")]),s._v(" "),t("p",[s._v("实际上，webpack没有做这么多事，我们不能把功劳（怨念）全归结于它")]),s._v(" "),t("p",[s._v("它只是站在巨人（其他流氓）肩膀上而已")]),s._v(" "),t("p",[s._v("下图可以看个热闹")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/20210508203658.png",alt:"image-20210508203658298"}})]),s._v(" "),t("p",[s._v("webpack通过插件（plugin）和加载器（loader）将这些技术整合在一起")]),s._v(" "),t("p",[t("code",[s._v("上图的技术 + 乱七八糟一大堆其他技术 + 老师的配置 = 呈现给你的工程")])]),s._v(" "),t("p",[s._v("目前，你无须理解这一些，保持敬畏即可")]),s._v(" "),t("p",[s._v("最后，说明一下工程中看不懂的文件：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v(".browserslistrc")]),s._v("，表达适配的浏览器范围，会被工程化中的其他技术所使用")]),s._v(" "),t("li",[t("code",[s._v("babel.config.js")]),s._v("，"),t("code",[s._v("babel")]),s._v("的配置文件，做js降级处理")]),s._v(" "),t("li",[t("code",[s._v("postcss.config.js")]),s._v("，"),t("code",[s._v("postcss")]),s._v("的配置文件，做css代码转换")]),s._v(" "),t("li",[t("code",[s._v("webpack.config.js")]),s._v("，"),t("code",[s._v("webpack")]),s._v("的配置文件，整合其他工程化技术，以及配置打包细节、开发服务器、路径别名等等")])]),s._v(" "),t("h3",{attrs:{id:"对我们开发的影响"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对我们开发的影响"}},[s._v("#")]),s._v(" 对我们开发的影响")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("学会访问开发服务器查看效果")])]),s._v(" "),t("li",[t("p",[s._v("学会动态获取资源文件路径")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" url "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./assets/1.png'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \nimg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("src "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[s._v("学会省略文件和后缀名")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./home'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 若存在home.js，可省略js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./movie'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 若movie是一个目录，此次导入的是 ./movie/index.js")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[s._v("学会使用别名简化导入代码")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@/b/b1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 实际导入： src/b/b1/index.js  (若b1是目录)")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[s._v("学会使用css module")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// styles 是一个对象，里面映射了源码类名和打包类名的关系")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" styles "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./index.module.less'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndom"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("styles"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("container"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);